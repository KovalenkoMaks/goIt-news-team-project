{"mappings":"gfAAAA,EAAA,S,sBAIA,IAAMC,EAAqBC,SAASC,cAAc,eAC5CC,EAAQF,SAASC,cAAc,cAC/BE,EAAUH,SAASC,cAAc,cACvCD,SAASC,cAAc,mBAAmBG,UAAUC,IAAI,qBACxDF,EAAQG,iBAAiB,SAMzB,SAA0BC,GACxB,IAAMC,EAAMD,EAAEE,OAAOC,QAAS,sCAC9B,IAAKF,EAAK,OACV,IAAKG,EACH,OAEF,IAAIC,EACFJ,EAAIK,WAAWA,WAAWC,mBAAmBA,mBAC1CC,iBAAiBC,YACtBC,QAAQC,IAAIN,GACZ,IAAK,IAAIO,EAAI,EAAGA,EAAIR,EAAYS,OAAQD,GAAK,EACvCR,EAAYQ,GAAGP,MAAQA,GACzBD,EAAYU,OAAOF,EAAG,GAG1BG,aAAaC,QAAS,cAAcC,KAAKC,UAAUd,IACnDe,SAASC,Q,IArBX,IAAMhB,EAAca,KAAKI,MAAMN,aAAaO,QAAQ,gBACpDZ,QAAQC,IAAIP,GACQ,OAAhBA,GACFZ,EAAmBK,UAAU0B,OAAO,qBAqBtC,WACE,GAA+D,IAA3DN,KAAKI,MAAMN,aAAaO,QAAQ,gBAAgBT,OAGlD,OAFAH,QAAQC,IAAI,cACZnB,EAAmBK,UAAU0B,OAAO,qBAGtC,IACMC,EADOP,KAAKI,MAAMN,aAAaO,QAAQ,gBAS1CG,KAAI,SAAAC,GACH,MAAO,6EAICC,OAH+BD,EAAKE,GAAG,2GAKfD,OAFxBD,EAAKG,IAAI,oEAgBhBF,OAd+BD,EAAKI,SAAS,q7BAiB7CH,OAHAD,EAAKK,MAAM,sEAOTJ,OAJFD,EAAKM,YAAY,uHAMqCL,OAFpDD,EAAKO,KAAK,uFAGSN,OADiCD,EAAKQ,KAAK,oDAClCP,OAATD,EAAKrB,IAAI,6C,IAKhC8B,KAAK,IA3CRxC,EAAMyC,mBAAmB,YAAaZ,E,CAGxCa,GA0CA5C,SAASC,cAAc,4BAA4BG,UAAUC,IAAI,Y","sources":["src/favorite.js"],"sourcesContent":["import './js/mobile_menu';\nimport './js/search';\nimport './js/dark_mode';\n\nconst undefinedReadeMore = document.querySelector('.underfined');\nconst block = document.querySelector('.list-news');\nconst newList = document.querySelector('.list-news');\ndocument.querySelector('.page-container').classList.add('pagination-hidden');\nnewList.addEventListener('click', removeToFavorite);\nconst dataInLocal = JSON.parse(localStorage.getItem('newsSection'));\nconsole.log(dataInLocal);\nif (dataInLocal === null) {\n  undefinedReadeMore.classList.remove('underfined-hidden');\n}\nfunction removeToFavorite(e) {\n  const btn = e.target.closest(`.item-news__remove-to-favorite-btn`);\n  if (!btn) return;\n  if (!dataInLocal) {\n    return;\n  }\n  let uri =\n    btn.parentNode.parentNode.nextElementSibling.nextElementSibling\n      .lastElementChild.textContent;\n  console.log(uri);\n  for (let i = 0; i < dataInLocal.length; i += 1) {\n    if (dataInLocal[i].uri === uri) {\n      dataInLocal.splice(i, 1);\n    }\n  }\n  localStorage.setItem(`newsSection`, JSON.stringify(dataInLocal));\n  location.reload();\n}\n\nfunction getLocalData() {\n  if (JSON.parse(localStorage.getItem('newsSection')).length === 0) {\n    console.log('error');\n    undefinedReadeMore.classList.remove('underfined-hidden');\n    return;\n  }\n  const data = JSON.parse(localStorage.getItem('newsSection'));\n  const markup = createMarkup(data);\n  block.insertAdjacentHTML('beforeend', markup);\n}\n\ngetLocalData();\n\nfunction createMarkup(arr) {\n  return arr\n    .map(elem => {\n      return `<li class=\"list-news__item\">\n\t  <article class=\"item-news__article\" id=\"${elem.id}\">\n\t\t\t<div class=\"item-news__wrapper-img\">\n\t\t\t\t <img class=\"item-news__img\"\n\t\t\t\t\t  src=\"${elem.img}\"\n\t\t\t\t\t  alt=\"\">\n\t\t\t\t <p class=\"item-news__category\">${elem.category}</p>\n\t\t\t\t <button type=\"button\" class=\"item-news__add-to-favorite hidden-span\">\n\t\t\t\t\t\t\t<span class=\"item-news__remove-to-favorite-btn\">Remove from favorite\n\t\t\t\t\t\t\t\t<svg class=\"item-news__block-icon active-news-icon\"\n\t\t\t\t\t\t\t\t  width=\"16\"\n\t\t\t\t\t\t\t\t  height=\"16\"\n\t\t\t\t\t\t\t\t  viewBox=\"0 0 37 32\"\n\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t  <path style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n\t\t\t\t\t\t  </svg></span>\n\t\t\t\t  </button>\n\t\t\t</div>\n\t\t\t<div class=\"item-news__wrapper-text\">\n\t\t\t<h2 class=\"item-news__title\">\n\t\t\t\t ${elem.title}\n\t\t\t</h2>\n\t\t\t<p class=\"item-news__description\">\n\t\t\t\t ${elem.description}</p>\n\t\t\t</div>\n\t\t\t<div class=\"item-news__info\">\n\t\t\t\t <span class=\"item-news__info-date\">\n\t\t\t\t\t  ${elem.date}\n\t\t\t\t </span>\n\t\t\t\t <a target=\"_blank\" class=\"item-news__info-link\" href=\"${elem.link}\">Read more</a>\n\t\t\t\t <p class='is-hidden'>${elem.uri}</p>\n\t\t\t</div>\n\t  </article>\n </li>`;\n    })\n    .join('');\n}\ndocument.querySelector('.news-loader__container ').classList.add('is-hidden');\n"],"names":["parcelRequire","$19661b0c25203147$var$undefinedReadeMore","document","querySelector","$19661b0c25203147$var$block","$19661b0c25203147$var$newList","classList","add","addEventListener","e","btn","target","closest","$19661b0c25203147$var$dataInLocal","uri","parentNode","nextElementSibling","lastElementChild","textContent","console","log","i","length","splice","localStorage","setItem","JSON","stringify","location","reload","parse","getItem","remove","markup","map","elem","concat","id","img","category","title","description","date","link","join","insertAdjacentHTML","$19661b0c25203147$var$getLocalData"],"version":3,"file":"favorite.25876877.js.map"}