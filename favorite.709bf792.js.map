{"mappings":"oeAAAA,EAAA,S,sBAGA,MAAMC,EAAQC,SAASC,cAAc,cAC/BC,EAAUF,SAASC,cAAc,cACvCD,SAASC,cAAc,mBAAmBE,UAAUC,IAAI,qBACxDF,EAAQG,iBAAiB,SAGzB,SAA0BC,GACxB,MAAMC,EAAMD,EAAEE,OAAOC,QAAQ,sCAC7B,IAAKF,EAAK,OACV,IAAKG,EACH,OAEF,IAAIC,EACFJ,EAAIK,WAAWA,WAAWC,mBAAmBA,mBAC1CC,iBAAiBC,YACtBC,QAAQC,IAAIN,GACZ,IAAK,IAAIO,EAAI,EAAGA,EAAIR,EAAYS,OAAQD,GAAK,EACvCR,EAAYQ,GAAGP,MAAQA,GACzBD,EAAYU,OAAOF,EAAG,GAG1BG,aAAaC,QAAQ,cAAeC,KAAKC,UAAUd,IACnDe,SAASC,Q,IAlBX,MAAMhB,EAAca,KAAKI,MAAMN,aAAaO,QAAQ,gBACpDZ,QAAQC,IAAIP,GAoBZ,WACE,GAA+D,IAA3Da,KAAKI,MAAMN,aAAaO,QAAQ,gBAAgBT,OAElD,YADAH,QAAQC,IAAI,SAGd,MACMY,EADON,KAAKI,MAAMN,aAAaO,QAAQ,gBAS1CE,KAAIC,GACI,6EACgCA,EAAKC,4GAGpCD,EAAKE,sEAEmBF,EAAKG,47BAcpCH,EAAKI,0EAGLJ,EAAKK,iIAIHL,EAAKM,0FAE+CN,EAAKO,sDACtCP,EAAKpB,kDAK5B4B,KAAK,IA3CRxC,EAAMyC,mBAAmB,YAAaX,E,CAGxCY","sources":["src/favorite.js"],"sourcesContent":["import './js/mobile_menu';\nimport './js/search';\nimport './js/dark_mode';\nconst block = document.querySelector('.list-news');\nconst newList = document.querySelector('.list-news');\ndocument.querySelector('.page-container').classList.add('pagination-hidden');\nnewList.addEventListener('click', removeToFavorite);\nconst dataInLocal = JSON.parse(localStorage.getItem('newsSection'));\nconsole.log(dataInLocal);\nfunction removeToFavorite(e) {\n  const btn = e.target.closest(`.item-news__remove-to-favorite-btn`);\n  if (!btn) return;\n  if (!dataInLocal) {\n    return;\n  }\n  let uri =\n    btn.parentNode.parentNode.nextElementSibling.nextElementSibling\n      .lastElementChild.textContent;\n  console.log(uri);\n  for (let i = 0; i < dataInLocal.length; i += 1) {\n    if (dataInLocal[i].uri === uri) {\n      dataInLocal.splice(i, 1);\n    }\n  }\n  localStorage.setItem(`newsSection`, JSON.stringify(dataInLocal));\n  location.reload();\n}\n\nfunction getLocalData() {\n  if (JSON.parse(localStorage.getItem('newsSection')).length === 0) {\n    console.log('error');\n    return;\n  }\n  const data = JSON.parse(localStorage.getItem('newsSection'));\n  const markup = createMarkup(data);\n  block.insertAdjacentHTML('beforeend', markup);\n}\n\ngetLocalData();\n\nfunction createMarkup(arr) {\n  return arr\n    .map(elem => {\n      return `<li class=\"list-news__item\">\n\t  <article class=\"item-news__article\" id=\"${elem.id}\">\n\t\t\t<div class=\"item-news__wrapper-img\">\n\t\t\t\t <img class=\"item-news__img\"\n\t\t\t\t\t  src=\"${elem.img}\"\n\t\t\t\t\t  alt=\"\">\n\t\t\t\t <p class=\"item-news__category\">${elem.category}</p>\n\t\t\t\t <button type=\"button\" class=\"item-news__add-to-favorite hidden-span\">\n\t\t\t\t\t\t\t<span class=\"item-news__remove-to-favorite-btn\">Remove from favorite\n\t\t\t\t\t\t\t\t<svg class=\"item-news__block-icon active-news-icon\"\n\t\t\t\t\t\t\t\t  width=\"16\"\n\t\t\t\t\t\t\t\t  height=\"16\"\n\t\t\t\t\t\t\t\t  viewBox=\"0 0 37 32\"\n\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t  <path style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n\t\t\t\t\t\t  </svg></span>\n\t\t\t\t  </button>\n\t\t\t</div>\n\t\t\t<div class=\"item-news__wrapper-text\">\n\t\t\t<h2 class=\"item-news__title\">\n\t\t\t\t ${elem.title}\n\t\t\t</h2>\n\t\t\t<p class=\"item-news__description\">\n\t\t\t\t ${elem.description}</p>\n\t\t\t</div>\n\t\t\t<div class=\"item-news__info\">\n\t\t\t\t <span class=\"item-news__info-date\">\n\t\t\t\t\t  ${elem.date}\n\t\t\t\t </span>\n\t\t\t\t <a target=\"_blank\" class=\"item-news__info-link\" href=\"${elem.link}\">Read more</a>\n\t\t\t\t <p class='is-hidden'>${elem.uri}</p>\n\t\t\t</div>\n\t  </article>\n </li>`;\n    })\n    .join('');\n}\n"],"names":["parcelRequire","$f2929da3ca31033d$var$block","document","querySelector","$f2929da3ca31033d$var$newList","classList","add","addEventListener","e","btn","target","closest","$f2929da3ca31033d$var$dataInLocal","uri","parentNode","nextElementSibling","lastElementChild","textContent","console","log","i","length","splice","localStorage","setItem","JSON","stringify","location","reload","parse","getItem","markup","map","elem","id","img","category","title","description","date","link","join","insertAdjacentHTML","$f2929da3ca31033d$var$getLocalData"],"version":3,"file":"favorite.709bf792.js.map"}