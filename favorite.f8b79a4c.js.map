{"mappings":"AAAA,MAAMA,EAAWC,SAASC,cAAc,eCIxCC,iBACE,MAAMC,QCDRD,iBACE,MAAME,QAAqBC,MAHH,qGAIlBC,QAAiBF,EAAaG,OACpC,IAAIC,QAAEA,GAAYF,EAElB,OAAOE,C,CDJsBC,IAM/BP,eAAyBQ,GACvBX,EAAcY,UAAYD,C,CAL1BE,OEPFV,eAAgCW,GAoC9B,OAnCeA,EACZC,KAAIC,IACH,IAAIC,EAAYD,EAAKE,MACrB,GAAyB,IAArBD,EAAUE,OAGZ,MAAO,uNAFQF,EAAU,GAAG,kBAAkB,GAAGG,6FAQJJ,EAAKK,qYAQpCL,EAAKM,yGAGLN,EAAKO,iJAGDP,EAAKQ,mGAE6BR,EAAKI,mF,IAM5DK,KAAK,G,CF7BcC,CAAwBtB,G,CAGhDuB","sources":["src/js/refs/index.js","src/js/popular_render/index.js","src/js/api/index.js","src/js/markup/index.js"],"sourcesContent":["const newsList = document.querySelector('.list-news');\n\nexport { newsList };\n","import * as api from '../api';\nimport * as markup from '../markup';\nimport * as refs from '../refs';\n\nasync function getPopularRender() {\n  const popularArticle = await api.getPopularArticle();\n  let markupArr = await markup.getPopularMarkup(popularArticle);\n  getRender(markupArr);\n}\ngetPopularRender();\n\nasync function getRender(value) {\n  refs.newsList.innerHTML = value;\n}\n","const KEY = 'api-key=eQ8t8FWqeAGnKDTtIFrHmgZCflFrUTcV';\nconst BASE_URL = 'https://api.nytimes.com/svc';\nconst MOST_POPULAR_NEWS = `https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?${KEY}`;\n\nasync function getPopularArticle() {\n  const articleFetch = await fetch(MOST_POPULAR_NEWS);\n  const articles = await articleFetch.json();\n  let { results } = articles;\n  // console.log(results);\n  return results;\n}\n\nasync function getCategoryList() {\n  const categoryList = await fetch(\n    `${BASE_URL}//news/v3/content/section-list.json?${KEY}`\n  );\n  const categories = await categoryList.json();\n  let { results } = categories;\n\n  //   console.log(results);\n  return results;\n}\n\nasync function getSearchArticle() {\n  const articleFetch = await fetch(\n    `${BASE_URL}/search/v2/articlesearch.json?q=automobiles&${KEY}`\n  );\n  const articles = await articleFetch.json();\n  let { response } = articles;\n  let { docs } = response;\n  //   console.log(docs);\n\n  return docs;\n}\n\nasync function getArticleByCategory() {\n  const articleFetch = await fetch(\n    `${BASE_URL}/news/v3/content/inyt/automobiles.json?${KEY}`\n  );\n  const articles = await articleFetch.json();\n  let { results } = articles;\n  //   console.log(results);\n\n  return results;\n}\n\nexport {\n  getPopularArticle,\n  getCategoryList,\n  getSearchArticle,\n  getArticleByCategory,\n};\n","async function getPopularMarkup(arr) {\n  const markup = arr\n    .map(elem => {\n      let mediaElem = elem.media;\n      if (mediaElem.length === 1) {\n        let mediaUrl = mediaElem[0]['media-metadata'][2].url;\n\n        return `<li class=\"list-news__item\">\n            <article class=\"item-news__article\">\n                <div class=\"item-news__wrapper-img\">\n                    <img class=\"item-news__img\"\n                        src=\"${mediaUrl}\"\n                        alt=\"\">\n                    <p class=\"item-news__category\">${elem.section}</p>\n                    <p class=\"item-news__add-to-favorite\">Add to favorite\n                        <use class=\"item-news__block-icon\">\n                            <svg class=\"item-news__icon\" width=\"11\" height=\"13\"></svg>\n                        </use>\n                    </p>\n                </div>\n                <h2 class=\"item-news__title\">\n                    ${elem.title}\n                </h2>\n                <p class=\"item-news__description\">\n                    ${elem.abstract}</p>\n                <div class=\"item-news__info\">\n                    <span class=\"item-news__info-date\">\n                        ${elem.updated}\n                    </span>\n                    <a class=\"item-news__info-link\" href=\"${elem.url}\">Read more</a>\n                </div>\n            </article>\n        </li>`;\n      }\n    })\n    .join('');\n  return markup;\n}\n\nexport { getPopularMarkup };\n"],"names":["$d4144cf0ccc5b55e$export$3cb5e5be73c1d6a8","document","querySelector","async","popularArticle","articleFetch","fetch","articles","json","results","$7c150f424508927b$export$37a0c2d6cb38dcc4","value","innerHTML","$114f23d88e296856$var$getRender","arr","map","elem","mediaElem","media","length","url","section","title","abstract","updated","join","$489efd0e09083f65$export$b667415cbb7bb671","$114f23d88e296856$var$getPopularRender"],"version":3,"file":"favorite.f8b79a4c.js.map"}