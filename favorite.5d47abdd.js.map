{"mappings":"4sBAAAA,EAAA,S,WAIA,IAAMC,EAAqBC,SAASC,cAAc,eAC5CC,EAAQF,SAASC,cAAc,cAC/BE,EAAUH,SAASC,cAAc,cAEvCD,SACGC,cAAc,qCACdG,UAAUC,IAAI,aAEjBL,SAASC,cAAc,mBAAmBG,UAAUC,IAAI,qBACxDL,SACGC,cAAc,uBACdG,UAAUC,IAAI,yBAEjBF,EAAQG,iBAAiB,SAMzB,SAA0BC,GACxB,IAAMC,EAAMD,EAAEE,OAAOC,QAAS,sCAC9B,IAAKF,EAAK,OACV,IAAKG,EACH,OAOF,IAJA,IAAIC,EACFJ,EAAIK,WAAWA,WAAWC,mBAAmBA,mBAC1CC,iBAAiBC,YAEbC,EAAI,EAAGA,EAAIN,EAAYO,OAAQD,GAAK,EACvCN,EAAYM,GAAGL,MAAQA,GACzBD,EAAYQ,OAAOF,EAAG,GAG1BG,aAAaC,QAAS,cAAcC,KAAKC,UAAUZ,IACnDH,EAAIK,WAAWA,WAAWA,WAAWA,WAAWW,Q,IAtBlD,IAAMb,EAAcW,KAAKG,MAAML,aAAaM,QAAQ,gBAwCpD,SAASC,EAAaC,GAgDpB,OA/CeA,EACZC,KAAI,SAAAC,GACH,MAAO,6EAICC,OAH+BD,EAAKE,GAAG,2GAKfD,OAFxBD,EAAKG,IAAI,oEAyBhBF,OAvB+BD,EAAKI,SAAS,4pDA0B7CH,OAHAD,EAAKK,MAAM,sEAOTJ,OAJFD,EAAKM,YAAY,uHAMqCL,OAFpDD,EAAKO,KAAK,uFAGSN,OADiCD,EAAKQ,KAAK,oDAClCP,OAATD,EAAKlB,IAAI,6C,IAKhC2B,KAAK,G,CArFU,OAAhB5B,GACFZ,EAAmBK,UAAUoB,OAAO,qBAuBtC,WACE,GAA4C,OAAxCJ,aAAaM,QAAQ,eAAzB,CACA,GAA+D,IAA3DJ,KAAKG,MAAML,aAAaM,QAAQ,gBAAgBR,OAGlD,OAFAsB,QAAQC,IAAI,cACZ1C,EAAmBK,UAAUoB,OAAO,qBAGtC,IACMkB,EAASf,EADFL,KAAKG,MAAML,aAAaM,QAAQ,iBAE7CxB,EAAMyC,mBAAmB,YAAaD,EARY,C,CAWpDE,GAoDA5C,SAASC,cAAc,4BAA4BG,UAAUC,IAAI,Y","sources":["src/favorite.js"],"sourcesContent":["import './js/mobile_menu';\n// import './js/search';\nimport './js/dark_mode';\n\nconst undefinedReadeMore = document.querySelector('.underfined');\nconst block = document.querySelector('.list-news');\nconst newList = document.querySelector('.list-news');\n\ndocument\n  .querySelector('.news-loader__container.container')\n  .classList.add('is-hidden');\n\ndocument.querySelector('.page-container').classList.add('pagination-hidden');\ndocument\n  .querySelector('.page-container-cat')\n  .classList.add('pagination-cat-hidden');\n\nnewList.addEventListener('click', removeToFavorite);\nconst dataInLocal = JSON.parse(localStorage.getItem('newsSection'));\n\nif (dataInLocal === null) {\n  undefinedReadeMore.classList.remove('underfined-hidden');\n}\nfunction removeToFavorite(e) {\n  const btn = e.target.closest(`.item-news__remove-to-favorite-btn`);\n  if (!btn) return;\n  if (!dataInLocal) {\n    return;\n  }\n  // console.log(btn.parentNode.parentNode.parentNode.parentNode);\n  let uri =\n    btn.parentNode.parentNode.nextElementSibling.nextElementSibling\n      .lastElementChild.textContent;\n\n  for (let i = 0; i < dataInLocal.length; i += 1) {\n    if (dataInLocal[i].uri === uri) {\n      dataInLocal.splice(i, 1);\n    }\n  }\n  localStorage.setItem(`newsSection`, JSON.stringify(dataInLocal));\n  btn.parentNode.parentNode.parentNode.parentNode.remove();\n  // location.reload();\n}\n\nfunction getLocalData() {\n  if (localStorage.getItem('newsSection') === null) return;\n  if (JSON.parse(localStorage.getItem('newsSection')).length === 0) {\n    console.log('error');\n    undefinedReadeMore.classList.remove('underfined-hidden');\n    return;\n  }\n  const data = JSON.parse(localStorage.getItem('newsSection'));\n  const markup = createMarkup(data);\n  block.insertAdjacentHTML('beforeend', markup);\n}\n\ngetLocalData();\n\nfunction createMarkup(arr) {\n  const newArr = arr\n    .map(elem => {\n      return `<li class=\"list-news__item\">\n\t  <article class=\"item-news__article\" id=\"${elem.id}\">\n\t\t\t<div class=\"item-news__wrapper-img\">\n\t\t\t\t <img class=\"item-news__img\"\n\t\t\t\t\t  src=\"${elem.img}\"\n\t\t\t\t\t  alt=\"\">\n\t\t\t\t <p class=\"item-news__category\">${elem.category}</p>\n\t\t\t\t <button type=\"button\" class=\"item-news__add-to-favorite hidden-span\">\n              <span class=\"item-news__add-to-favorite-btn\">Add to favorite\n                <svg class=\"item-news__block-icon active-news-icon\"\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 37 32\"\n                  >\n                  <path style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n                </svg>\n              </span>\n\t\t\t\t\t\t\t<span class=\"item-news__remove-to-favorite-btn\">Remove from favorite\n\t\t\t\t\t\t\t\t<svg class=\"item-news__block-icon active-news-icon\"\n\t\t\t\t\t\t\t\t  width=\"16\"\n\t\t\t\t\t\t\t\t  height=\"16\"\n\t\t\t\t\t\t\t\t  viewBox=\"0 0 37 32\"\n\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t  <path style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n\t\t\t\t\t\t  </svg></span>\n\t\t\t\t  </button>\n\t\t\t</div>\n\t\t\t<div class=\"item-news__wrapper-text\">\n\t\t\t<h2 class=\"item-news__title\">\n\t\t\t\t ${elem.title}\n\t\t\t</h2>\n\t\t\t<p class=\"item-news__description\">\n\t\t\t\t ${elem.description}</p>\n\t\t\t</div>\n\t\t\t<div class=\"item-news__info\">\n\t\t\t\t <span class=\"item-news__info-date\">\n\t\t\t\t\t  ${elem.date}\n\t\t\t\t </span>\n\t\t\t\t <a target=\"_blank\" class=\"item-news__info-link\" href=\"${elem.link}\">Read more</a>\n\t\t\t\t <p class='is-hidden'>${elem.uri}</p>\n\t\t\t</div>\n\t  </article>\n </li>`;\n    })\n    .join('');\n  return newArr;\n}\ndocument.querySelector('.news-loader__container ').classList.add('is-hidden');\n\nexport { createMarkup, block };\n"],"names":["parcelRequire","$19661b0c25203147$var$undefinedReadeMore","document","querySelector","$19661b0c25203147$export$837bd02682cd3db9","$19661b0c25203147$var$newList","classList","add","addEventListener","e","btn","target","closest","$19661b0c25203147$var$dataInLocal","uri","parentNode","nextElementSibling","lastElementChild","textContent","i","length","splice","localStorage","setItem","JSON","stringify","remove","parse","getItem","$19661b0c25203147$export$24783e9f3a24abe4","arr","map","elem","concat","id","img","category","title","description","date","link","join","console","log","markup","insertAdjacentHTML","$19661b0c25203147$var$getLocalData"],"version":3,"file":"favorite.5d47abdd.js.map"}